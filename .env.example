# CFV Metrics Agent - Environment Variables

# CoinGecko API Key (optional - demo key used if not set)
# Get your key at: https://www.coingecko.com/en/api/pricing
# Demo plan: Free (30 calls/min)
# Analyst plan: $129/month (500 calls/min + WebSocket)
COINGECKO_API_KEY=

# Etherscan API Key (optional)
# Get your key at: https://etherscan.io/apis
# Free tier: 5 calls/second
ETHERSCAN_API_KEY=

# GitHub Personal Access Token (optional)
# Create at: https://github.com/settings/tokens
# Permissions needed: public_repo (read-only)
# Unauthenticated: 60 requests/hour
# Authenticated: 5,000 requests/hour
GITHUB_TOKEN=

# BlockCypher API Token (optional)
# Get your token at: https://www.blockcypher.com/
# Free tier: 3 requests/second, 200 requests/hour
# Used for Dash blockchain data
BLOCKCYPHER_API_TOKEN=

# Redis Connection URL
# Default: redis://localhost:6379
# Format: redis://[username]:[password]@[host]:[port]/[database]
REDIS_URL=redis://localhost:6379

# Cache TTL Settings (seconds)
CACHE_TTL_SHORT=300       # 5 minutes
CACHE_TTL_MEDIUM=3600     # 1 hour
CACHE_TTL_LONG=86400      # 24 hours
CACHE_TTL_VERY_LONG=604800 # 7 days

# Request Coalescing TTL (milliseconds)
REQUEST_COALESCER_TTL=5000  # 5 seconds

# API Endpoint Rate Limiting Configuration
RATE_LIMIT_API_WINDOW_MS=900000        # 15 minutes
RATE_LIMIT_API_MAX_REQUESTS=100        # 100 requests per window
RATE_LIMIT_STRICT_WINDOW_MS=60000      # 1 minute
RATE_LIMIT_STRICT_MAX_REQUESTS=10      # 10 requests per minute

# External API Rate Limits (calls per time period)
COINGECKO_RATE_LIMIT=30                # calls per minute
ETHERSCAN_RATE_LIMIT=5                 # calls per second
GITHUB_RATE_LIMIT=5000                 # calls per hour

# Circuit Breaker Configuration
CIRCUIT_BREAKER_THRESHOLD=5            # failures before opening
CIRCUIT_BREAKER_TIMEOUT=60000          # 1 minute (time circuit stays open)
CIRCUIT_BREAKER_RESET_TIMEOUT=30000    # 30 seconds (time before testing recovery)

# Rate Limits (calls per minute) - Legacy, kept for backward compatibility
RATE_LIMIT_COINGECKO=30
RATE_LIMIT_ETHERSCAN=5
RATE_LIMIT_GITHUB=5000

# Retry Settings
MAX_RETRIES=3
RETRY_DELAY=1000          # milliseconds

# Timeout Settings
COLLECTOR_TIMEOUT=30000   # milliseconds


